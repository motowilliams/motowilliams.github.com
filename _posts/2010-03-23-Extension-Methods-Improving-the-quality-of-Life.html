---
layout: post
image_root: "/assets/images/"
title: "Extension Methods Improving the quality of Life"
author: "Eric Williams"
categories: [Asp.Net MVC, Continuous Improvement, Extension Methods]
---

<p><img class="imagefloatright" src="{{page.image_root}}checkmark.png" alt=""><br>
Extension methods, such a simple idea that can totally make the small things in your application or at least the un-<a href="http://en.wikipedia.org/wiki/Don't_repeat_yourself" target="_blank">DRY</a> portions of it cleaner.</p>
<h5>AddModelError and Multiple ValidationResults</h5>
<p>Here is a simple example (taken from a custom model binder):</p>

<script src="https://gist.github.com/1307757.js"> </script>

<p>not too bad, but when working in a block of code where you might have a few instances of it you tend to see the noise a little bit.</p>

<p>How about a little reduction and also centralize some logic so your entire code base can leverage it?</p>

<script src="https://gist.github.com/1307762.js"> </script>

<p>Now that everything you thought was upright in the world is all in question, ok, not really - not even close.  In fact we've only saved three lines of code where such things are being used but I would argue if you try to keep small things like this in mind that over time your code base will start to reap the benefits.</p>
<p>Here is how I implemented the extension method.  Your mileage may vary.</p>

<script src="https://gist.github.com/1307763.js"> </script>

<h5>DataAnnotations and the Validator class</h5>
<p>Another area that might not be Asp.net MVC specific is if you are using the DataAnnotaions directly on your models and you use the static Validator class to validation the model.  In this case the TryValidateObject is being used for the bool that is returned from the operation.</p>

<script src="https://gist.github.com/1307765.js"> </script>

<p>I think I prefer this a little more</p>

<script src="https://gist.github.com/1307768.js"> </script>

<p>Where ValidateAnnotations is implemented as follows.  Also you if you prefer to change the where this can be used you can change the accessibility or change what this method extends to limit it's exposure.</p>

<script src="https://gist.github.com/1307769.js"> </script>

<p>Hopefully these two little nuggets will help someone out.  Both of these are just a means to end, where I think that end is a transformation to a code base even beyond simple changes like this.  After all it is all about the journey not the destination.</p>
